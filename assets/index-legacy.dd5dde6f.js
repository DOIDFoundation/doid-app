System.register(["./index-legacy.a17accce.js","./doid-symbol-legacy.4cf8a51e.js","./vendor-legacy.d49bb3de.js"],(function(e,t){"use strict";var i,r,n,a,s,o,l,c,d,p,m,h,g,u;return{setters:[e=>{i=e.T},e=>{r=e.a,n=e.b,a=e.c,s=e.d,o=e.w,l=e.r,c=e.g},e=>{d=e.y,p=e.d,m=e.t,h=e.f,g=e.e,u=e.n}],execute:function(){var t=Object.defineProperty,b=Object.getOwnPropertyDescriptor,y=(e,i,r,n)=>{for(var a,s=n>1?void 0:n?b(i,r):i,o=e.length-1;o>=0;o--)(a=e[o])&&(s=(n?a(i,r,s):a(s))||s);return n&&s&&t(i,r,s),s};let v=class extends(i('ol{margin-top:1rem;margin-bottom:1rem;display:grid;grid-gap:1rem;gap:1rem}@media (min-width: 768px){ol{grid-template-columns:repeat(3,minmax(0,1fr))}}ol li{position:relative;display:inline-flex;flex-direction:column;gap:1rem;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgba(243,244,246,var(--tw-bg-opacity));padding:1.25rem 1rem 1rem 3.5rem}ol li:before{position:absolute;left:.75rem;top:.75rem;display:flex;height:2rem;width:2rem;align-items:center;justify-content:center;border-radius:9999px;border-width:1px;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));font-weight:700}ol li.active{--tw-bg-opacity: 1;background-color:rgba(226,232,240,var(--tw-bg-opacity))}ol li.active:before{--tw-border-opacity: 1;border-color:rgba(148,163,184,var(--tw-border-opacity))}ol li>b{display:block}ol li:nth-child(1):before{content:"1"}ol li:nth-child(2):before{content:"2"}ol li:nth-child(3):before{content:"3"}\n')){constructor(){super(...arguments),this.name="",this.pending=!1,this.ts=0,this.step=1,this.get=async()=>{this.ts++},this.commit=async()=>{(async(e,t,i="")=>{const[o,l,c]=await Promise.all([r(),n(),n()]),d=await a(),p=s();t||(t=l),o.connect(d),0===parseInt(p,16)?o.makeCommitment(e,t,i):o.makeCommitment(e,t,i,p,l)})(this.name)}}get empty(){return!1}connectedCallback(){this.get(),super.connectedCallback()}render(){return d`<div class="px-3"><h3 class="text-base">Registering a name requires you to complete 3 steps</h3><ol><li class="${p({active:1===this.step})}"><b>Request to register</b><p>Your wallet will open and you will be asked to confirm the first of two transactions required for registration. If the second transaction is not processed within 7 days of the first, you will need to start again from step 1.</p></li><li><b>Wait for 1 minute</b><p>The waiting period is required to ensure another person hasn’t tried to register the same name and protect you after your request.</p></li><li><b>Complete Registration</b><p>Click ‘register’ and your wallet will re-open. Only after the 2nd transaction is confirmed you'll know if you got the name.</p></li></ol><p class="text-center"><dui-button @click="${this.commit}">Request to Register</dui-button></p></div>`}};y([h()],v.prototype,"name",2),y([m()],v.prototype,"pending",2),y([m()],v.prototype,"ts",2),y([m()],v.prototype,"step",2),v=y([g("view-name-register")],v);var f=Object.defineProperty,w=Object.getOwnPropertyDescriptor,x=(e,t,i,r)=>{for(var n,a=r>1?void 0:r?w(t,i):t,s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r?n(t,i,a):n(a))||a);return r&&a&&f(t,i,a),a};let $=class extends(i("")){constructor(){super(...arguments),this.name="",this.pending=!1,this.ts=0,this.get=async()=>{this.ts++}}get empty(){return!1}connectedCallback(){this.get(),super.connectedCallback()}render(){return d`<div class="px-3">Details for ${this.name}</div>`}};x([h()],$.prototype,"name",2),x([m()],$.prototype,"pending",2),x([m()],$.prototype,"ts",2),$=x([g("view-name-details")],$);var k=Object.defineProperty,j=Object.getOwnPropertyDescriptor,C=(e,t,i,r)=>{for(var n,a=r>1?void 0:r?j(t,i):t,s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r?n(t,i,a):n(a))||a);return r&&a&&k(t,i,a),a};let O=e("ViewName",class extends(i(":host::part(dui-nav){display:flex;margin-bottom:-2px}\n")){constructor(){super(...arguments),this.name="",this.action="",this.pending=!1,this.ts=0,this.get=async()=>{const e=o(this.name);this.name&&!this.action&&l(`/name/${this.name}/register`),e!==this.name&&l(`/name/${e}/${this.action}`),this.ts++}}get inReg(){return this.name&&"register"===this.action}get inDetails(){return this.name&&"details"===this.action}get empty(){return!this.name}connectedCallback(){this.get(),super.connectedCallback()}render(){return d`<div class="view-name"><div class="dui-container"><dui-ns-search .text="${this.name}" @search="${e=>c(`/search/${e.detail}`)}" placeholder="Search names"><span slot="label"></span> <span slot="msgd"></span></dui-ns-search>${u(this.pending,(()=>d`<i class="mdi mdi-loading"></i> Searching...`))} ${u(this.name,(()=>d`<div class="border-b-2 flex my-4 px-3 pr-4 justify-between"><div><b>${this.name}</b> ${u("doid"===this.name,(()=>d`<em>(Registrant)</em>`))}</div><div><dui-nav slot="center" part="dui-nav"><dui-link href="${`/name/${this.name}/register`}" alias="${`/name/${this.name}`}" exact nav>Register</dui-link><dui-link href="${`/name/${this.name}/details`}" exact nav>Details</dui-link></dui-nav></div></div>`))} ${u(this.inReg,(()=>d`<view-name-register .name="${this.name}"></view-name-register>`))} ${u(this.inDetails,(()=>d`<view-name-details .name="${this.name}"></view-name-details>`))}</div></div>`}});C([h()],O.prototype,"name",2),C([h()],O.prototype,"action",2),C([m()],O.prototype,"pending",2),C([m()],O.prototype,"ts",2),e("ViewName",O=C([g("view-name")],O))}}}));
